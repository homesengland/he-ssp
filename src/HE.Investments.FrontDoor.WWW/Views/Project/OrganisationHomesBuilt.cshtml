@using HE.Investments.FrontDoor.Contract.Project
@using HE.Investments.FrontDoor.WWW.Views.Project.Const
@using HE.Investments.FrontDoor.WWW.Views.Shared.Components.FrontDoorWorkflowBackButton
@using HE.Investments.Common.WWW.Components.FormButton
@using HE.Investments.Common.WWW.Components.ListOfParagraphs
@model ProjectDetails
@{
    ViewData["Title"] = ProjectPageTitles.OrganisationHomesBuilt;
    var paragraphs = new DynamicComponentViewModel(nameof(ListOfParagraphs), new { paragraphs = new List<string>
    {
        "Enter the total number of homes your organisation has built in the last year.",
        "Enter 0 if your organisation did not build any homes last year. This could be because this is your first build or because you deliver housing in partnership with, or through acquiring properties from, a developer."
    } });
}

<gds-div-grid-column-two-thirds>
    <vc:front-door-workflow-back-button current-page="@ProjectWorkflowState.OrganisationHomesBuilt"></vc:front-door-workflow-back-button>
    @await Html.PartialAsync("~/Partials/Errors/_ErrorSummaryPartial.cshtml")

    <vc:page-header caption="@ViewBag.ProjectName"/>

    <form asp-controller="Project" asp-action="OrganisationHomesBuilt" asp-route-workflow="@Context.Request.Query["workflow"]" asp-route-redirect="@Context.Request.Query["redirect"]" asp-method="post" novalidate>
        <vc:text-input
            title="@ProjectPageTitles.OrganisationHomesBuilt"
            title-type="InputTitleType.PageHeader"
            additional-content="@paragraphs"
            css-class="govuk-input--width-4"
            field-name="@nameof(Model.OrganisationHomesBuilt)"
            value="@Model.OrganisationHomesBuilt"/>

        <vc:form-button/>
        <vc:return-to-account-link/>
    </form>
</gds-div-grid-column-two-thirds>
