(()=>{const n=()=>{var n=document.getElementsByClassName("govuk-cookie-banner"),r,u;if(n.length===1){if(r=i("accept_additional_cookies"),r!==undefined){n[0].remove();return}n[0].classList.remove("govuk-!-display-none");u=n[0].getElementsByTagName("button");for(let i of u)i.onclick=()=>{t(i.value),n[0].remove()}}},t=n=>{const t=new Date;t.setTime(t.getTime()+31536e6);document.cookie="accept_additional_cookies=".concat(n,"; expires=",t.toUTCString(),"; path=/; secure")},i=n=>{if(document.cookie!==""){const t=document.cookie.split(/; */);for(let t of t){const[i,r]=t.split("=");if(i===decodeURIComponent(n))return decodeURIComponent(r)}}return undefined};document.addEventListener("DOMContentLoaded",function(){n()})})();(()=>{const n="exclusive-checkbox-group",t=`${n}--exclusive-option`,r=()=>{const r=document.getElementsByClassName(n),u=document.getElementsByClassName(t);r.length===1&&u.length===1&&(i(r[0].getElementsByTagName("input"),t),i(u[0].getElementsByTagName("input"),n))},i=(n,t)=>{for(let i=0;i<n.length;i++)n[i].addEventListener("change",n=>{n.currentTarget.value&&u(t)})},u=n=>{const t=document.getElementsByClassName(n).item(0).getElementsByTagName("input");for(let n=0;n<t.length;n++)t[n].checked=!1};document.addEventListener("DOMContentLoaded",function(){r()})})();(()=>{const n=`.govuk-file-upload[type="file"]`,u="file-input-form-group",f="validation-summary",i="validation-error-list",h=`.govuk-button[type="submit"]`,c="MaxFileSizeInMegabytes",l="upload-file-url",a="remove-file-url-template",v="download-file-url-template",t=()=>document.querySelectorAll(n)[0].id,y=n=>`<span id="${t()}-error" class="govuk-error-message field-validation-error" data-valmsg-for="${t()}" data-valmsg-replace="true"><span class="govuk-visually-hidden">Error:</span>${n}</span>`,p=()=>`<div aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="govuk-error-summary" id="${f}" class="govuk-error-summary">
      <h2 id="error-summary-title" class="govuk-error-summary__title">
        There is a problem
      </h2>
      <div class="govuk-error-summary__body">
        <div data-valmsg-summary="true" id="${i}" class="govuk-error-message">
          <ul class="govuk-list govuk-error-summary__list"></ul>
        </div>
      </div>
    </div>`,w=n=>`<li><a href="#${t()}">${n}</a></li>`,b=(n,t)=>`<tr class="govuk-table__row" id="file-${n}">
      <td class="govuk-table__cell govuk-!-font-weight-bold">${r(t)}</td>
      <td class="govuk-table__cell"></td>
      <td class="govuk-table__cell govuk-!-text-align-right">Queued</td>
    </tr>`,k=n=>`<a class="govuk-link--no-visited-state govuk-!-margin-left-4 govuk-link" href="${n}">Remove</a>`,d=(n,t)=>`<a class="govuk-link" href="${t}">${r(n)}</a>`,g=()=>{const v=document.getElementById(c).value,w=v*1048576,y=document.getElementById("AllowedExtensions").value,b=y.split(", ").map(n=>`.${n.toUpperCase()}`),t=document.querySelectorAll(n)[0],f=document.querySelectorAll(h)[0],e=document.getElementById(l),k=document.querySelectorAll('input[name="__RequestVerificationToken"]')[0].value,i=new DataTransfer,p={},a=e!==null&&e!==undefined;for(let n=0;n<t.files.length;n++)i.items.add(t.files[n]);f.disabled=!0;t.disabled=a;let u=!1;ut();et();for(let n=i.files.length-1;n>=0;n--){const t=i.files[n];if(t.size>w){const n=`The selected file ${r(t.name)} must be smaller than ${v}MB`;u=!0;o(n);s(n)}else if(b.includes(ot(t.name))){if(a){const r=(Math.random()+1).toString(36).substring(7);tt(r,t);p[r]=t;i.items.remove(n)}}else{const n=`The selected file ${r(t.name)} must be a ${y}`;u=!0;o(n);s(n)}}a?(t.files=i.files,nt(p,e,k).finally(()=>{u||(f.disabled=!1),t.disabled=!1})):(u||(f.disabled=!1),t.disabled=!1)},nt=(n,t,i)=>{let r=Promise.resolve();for(let u in n){const s=t.value,o=n[u],f=new FormData;f.append("__RequestVerificationToken",i);f.append("file",o);r=r.then(()=>it(u)).then(()=>fetch(s,{method:"POST",body:f})).then(n=>n.ok?rt(u,o.name,n):e(u,n)).catch(()=>e(u,undefined))}return r},tt=(n,t)=>{const i=document.getElementsByClassName("govuk-table__body")[0];i.innerHTML+=b(n,t.name)},it=n=>{const t=document.querySelector(`#file-${n} :nth-child(3)`);t.innerHTML='<div class="loader-line"><\/div>'},rt=(n,t,i)=>i.json().then(i=>{const e=document.querySelector(`#file-${n} :nth-child(1)`),o=document.querySelector(`#file-${n} :nth-child(2)`),r=document.querySelector(`#file-${n} :nth-child(3)`);o.innerText=i.uploadDetails;const u=document.getElementById(a);if(i.canBeRemoved&&u){const n=u.value.replace("%3AfileId",i.fileId);r.innerHTML=k(n)}else r.innerHTML="";const f=document.getElementById(v);if(f){const n=f.value.replace("%3AfileId",i.fileId);e.innerHTML=d(t,n)}}),e=(n,t)=>{const i=document.querySelector(`#file-${n} :nth-child(2)`),r=document.querySelector(`#file-${n} :nth-child(3)`);return(i.innerText="Upload failed",r.innerHTML="",t!==undefined&&t.status===400)?t.json().then(n=>{Array.isArray(n)&&n.length>0&&n[0].errorMessage&&(i.innerText=n[0].errorMessage)}).catch(n=>console.log(n)):Promise.resolve()},o=t=>{const i=document.getElementById(u);document.querySelectorAll(n)[0].insertAdjacentHTML("beforebegin",y(t));i.classList.add("govuk-form-group--error")},ut=()=>{const i=document.getElementById(u),n=document.getElementById(`${t()}-error`);n&&n.remove();i.classList.remove("govuk-form-group--error")},s=t=>{let r=document.getElementById(i);if(!r){const t=document.querySelectorAll(n)[0].closest("form");t.children[0].insertAdjacentHTML("afterend",p());r=document.getElementById(i)}r.getElementsByTagName("ul")[0].innerHTML+=w(t)},ft=n=>{const i=n.getElementsByTagName("a");for(let n=0;n<i.length;n++)i[n].href.endsWith(`#${t()}`)&&i[n].parentNode.remove()},et=()=>{const n=document.getElementById(i);n&&(ft(n),n.getElementsByTagName("a").length===0&&document.getElementById(f).remove())},r=n=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return n.replace(/[&<>"'/]/ig,n=>t[n])},ot=n=>n.substring(n.lastIndexOf(".")).toUpperCase();document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll(n)[0];t!==null&&t!==undefined&&t.addEventListener("change",g)})})();(()=>{const n=(n,t)=>{var i=document.querySelectorAll(`[data-module="${t}"]`);i.forEach(t=>new n(t).init())};n(window.GOVUKFrontend.CharacterCount,"govuk-character-count");n(window.GOVUKFrontend.Radios,"govuk-radios")})();