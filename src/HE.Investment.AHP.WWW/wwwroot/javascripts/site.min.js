(()=>{const n=()=>{var n=document.getElementsByClassName("govuk-cookie-banner"),r,u;if(n.length===1){if(r=i("accept_additional_cookies"),r!==undefined){n[0].remove();return}n[0].classList.remove("govuk-!-display-none");u=n[0].getElementsByTagName("button");for(let i of u)i.onclick=()=>{t(i.value),n[0].remove()}}},t=n=>{const t=new Date;t.setTime(t.getTime()+31536e6);document.cookie="accept_additional_cookies=".concat(n,"; expires=",t.toUTCString(),"; path=/; secure")},i=n=>{if(document.cookie!==""){const t=document.cookie.split(/; */);for(let t of t){const[i,r]=t.split("=");if(i===decodeURIComponent(n))return decodeURIComponent(r)}}return undefined};document.addEventListener("DOMContentLoaded",function(){n()})})();(()=>{const n="exclusive-checkbox-group",t=`${n}--exclusive-option`,r=()=>{const r=document.getElementsByClassName(n),u=document.getElementsByClassName(t);r.length===1&&u.length===1&&(i(r[0].getElementsByTagName("input"),t),i(u[0].getElementsByTagName("input"),n))},i=(n,t)=>{for(let i=0;i<n.length;i++)n[i].addEventListener("change",n=>{n.currentTarget.value&&u(t)})},u=n=>{const t=document.getElementsByClassName(n).item(0).getElementsByTagName("input");for(let n=0;n<t.length;n++)t[n].checked=!1};document.addEventListener("DOMContentLoaded",function(){r()})})();(()=>{const n=`.govuk-file-upload[type="file"]`,e="file-input-form-group",o="validation-summary",t="validation-error-list",c=`.govuk-button[type="submit"]`,l="MaxFileSizeInMegabytes",a="upload-file-url",v="remove-file-url-template",y="download-file-url-template",i=()=>document.querySelectorAll(n)[0].id,p=n=>`<span id="${i()}-error" class="govuk-error-message field-validation-error" data-valmsg-for="${i()}" data-valmsg-replace="true"><span class="govuk-visually-hidden">Error:</span>${n}</span>`,w=()=>`<div aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="govuk-error-summary" id="${o}" class="govuk-error-summary">
      <h2 id="error-summary-title" class="govuk-error-summary__title">
        There is a problem
      </h2>
      <div class="govuk-error-summary__body">
        <div data-valmsg-summary="true" id="${t}" class="govuk-error-message">
          <ul class="govuk-list govuk-error-summary__list"></ul>
        </div>
      </div>
    </div>`,s=n=>`<li><a href="#${i()}">${n}</a></li>`,b=(n,t)=>`<tr class="govuk-table__row" id="file-${n}">
      <td class="govuk-table__cell govuk-!-font-weight-bold">${r(t)}</td>
      <td class="govuk-table__cell"></td>
      <td class="govuk-table__cell govuk-!-text-align-right">Queued</td>
    </tr>`,k=n=>`<a class="govuk-link--no-visited-state govuk-!-margin-left-4 govuk-link" href="${n}">Remove</a>`,d=(n,t)=>`<a class="govuk-link" href="${t}">${r(n)}</a>`,g=()=>{const v=document.getElementById(l).value,w=v*1048576,y=document.getElementById("AllowedExtensions").value,b=y.split(", ").map(n=>`.${n.toUpperCase()}`),t=document.querySelectorAll(n)[0],o=document.querySelectorAll(c)[0],s=document.getElementById(a),k=document.querySelectorAll('input[name="__RequestVerificationToken"]')[0].value,i=new DataTransfer,p={},h=s!==null&&s!==undefined;for(let n=0;n<t.files.length;n++)i.items.add(t.files[n]);o.disabled=!0;t.disabled=h;let e=!1;ut();et();for(let n=i.files.length-1;n>=0;n--){const t=i.files[n];if(t.size>w){const n=`The selected file "${r(t.name)}" must be smaller than or equal to ${v}MB`;e=!0;u(n);f(n)}if(b.includes(ot(t.name))){if(h){const r=(Math.random()+1).toString(36).substring(7);tt(r,t);p[r]=t;i.items.remove(n)}}else{const n=`The selected file "${r(t.name)}" must be a ${y}`;e=!0;u(n);f(n)}}h?(t.files=i.files,nt(p,s,k).finally(()=>{e||(o.disabled=!1),t.disabled=!1})):(e||(o.disabled=!1),t.disabled=!1)},nt=(n,t,i)=>{let r=Promise.resolve();for(let u in n){const o=t.value,e=n[u],f=new FormData;f.append("__RequestVerificationToken",i);f.append("file",e);r=r.then(()=>it(u)).then(()=>fetch(o,{method:"POST",body:f})).then(n=>n.ok?rt(u,e.name,n):h(u,n)).catch(()=>h(u,undefined))}return r},tt=(n,t)=>{const i=document.getElementsByClassName("govuk-table__body")[0];i.innerHTML+=b(n,t.name)},it=n=>{const t=document.querySelector(`#file-${n} :nth-child(3)`);t.innerHTML='<div class="loader-line"><\/div>'},rt=(n,t,i)=>i.json().then(i=>{const e=document.querySelector(`#file-${n} :nth-child(1)`),o=document.querySelector(`#file-${n} :nth-child(2)`),r=document.querySelector(`#file-${n} :nth-child(3)`);o.innerText=i.uploadDetails;const u=document.getElementById(v);if(i.canBeRemoved&&u){const n=u.value.replace("%3AfileId",i.fileId);r.innerHTML=k(n)}else r.innerHTML="";const f=document.getElementById(y);if(f){const n=f.value.replace("%3AfileId",i.fileId);e.innerHTML=d(t,n)}}),h=(n,t)=>{const i=document.querySelector(`#file-${n} :nth-child(2)`),r=document.querySelector(`#file-${n} :nth-child(3)`);return(i.innerText="Upload failed",r.innerHTML="",t!==undefined&&t.status===400)?t.json().then(n=>{if(Array.isArray(n)&&n.length>0&&n[0].errorMessage){const t=n[0].errorMessage;i.innerText=t;u(t,!0);f(t,!0)}}).catch(n=>console.log(n)):Promise.resolve()},u=t=>{const u=document.getElementById(e),i=document.querySelectorAll(n)[0],r=p(t);u.classList.add("govuk-form-group--error");for(const n in i.parentNode.childNodes.values())if(n.outerHTML===r)return;i.insertAdjacentHTML("beforebegin",r)},ut=()=>{const n=document.getElementById(e),t=n.getElementsByClassName("govuk-error-message");for(let n=t.length-1;n>=0;n--)t[n].remove();n.classList.remove("govuk-form-group--error")},f=i=>{let r=document.getElementById(t);if(!r){const i=document.querySelectorAll(n)[0].closest("form");i.children[0].insertAdjacentHTML("afterend",w());r=document.getElementById(t)}const u=r.getElementsByTagName("ul")[0],f=s(i);for(const n in u.childNodes.values())if(n.outerHTML===f)return;u.innerHTML+=s(i)},ft=n=>{const t=n.getElementsByTagName("a");for(let n=t.length-1;n>=0;n--)t[n].href.endsWith(`#${i()}`)&&t[n].parentNode.remove()},et=()=>{const n=document.getElementById(t);n&&(ft(n),n.getElementsByTagName("a").length===0&&document.getElementById(o).remove())},r=n=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return n.replace(/[&<>"'/]/ig,n=>t[n])},ot=n=>n.substring(n.lastIndexOf(".")).toUpperCase();document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll(n)[0];t!==null&&t!==undefined&&t.addEventListener("change",g)})})();(()=>{const n=()=>{const n=document.getElementById("js-back-link");n&&(n.onclick=()=>window.history.back())};document.addEventListener("DOMContentLoaded",function(){n()})})();(()=>{const n=(n,t)=>{var i=document.querySelectorAll(`[data-module="${t}"]`);i.forEach(t=>new n(t).init())};n(window.GOVUKFrontend.CharacterCount,"govuk-character-count");n(window.GOVUKFrontend.Radios,"govuk-radios");n(window.GOVUKFrontend.Button,"govuk-button")})();