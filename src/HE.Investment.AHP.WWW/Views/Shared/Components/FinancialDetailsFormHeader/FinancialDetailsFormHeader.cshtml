@using HE.Investments.Common.WWW.Extensions
@model (string Title, string Caption, string ApplicationId, HE.Investment.AHP.Contract.FinancialDetails.FinancialDetailsWorkflowState CurrentPage, string CustomBackLinkUrl, bool IsApplicationLocked)
@{
    var redirectParameters = new { applicationId = Model.ApplicationId, currentPage = Model.CurrentPage };
}

@if (string.IsNullOrWhiteSpace(Model.CustomBackLinkUrl))
{
    <gds-back-link href="@Url.OrganisationAction("Back", "FinancialDetails", redirectParameters)" class="govuk-!-margin-bottom-8"></gds-back-link>
}
else
{
    <gds-back-link href="@Model.CustomBackLinkUrl" class="govuk-!-margin-bottom-8"></gds-back-link>
}

@if (Model.IsApplicationLocked)
{
    <partial name="_LockedApplicationInformation"/>
}

@await Html.PartialAsync("~/Partials/Errors/_ErrorSummaryPartial.cshtml")

<vc:page-header title="@Model.Title" caption="@Model.Caption"/>
