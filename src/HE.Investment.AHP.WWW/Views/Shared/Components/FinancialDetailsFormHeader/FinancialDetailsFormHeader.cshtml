@model (string Title, string Caption, string ApplicationId, HE.Investment.AHP.Contract.FinancialDetails.FinancialDetailsWorkflowState CurrentPage, string CustomBackLinkUrl, bool IsReadOnly)
@{
    var redirectParameters = new { applicationId = Model.ApplicationId, currentPage = Model.CurrentPage };
}

@if (string.IsNullOrWhiteSpace(Model.CustomBackLinkUrl))
{
    <gds-back-link href="@Url.Action("Back", "FinancialDetails", redirectParameters)" class="govuk-!-margin-bottom-8"></gds-back-link>
}
else
{
    <gds-back-link href="@Model.CustomBackLinkUrl" class="govuk-!-margin-bottom-8"></gds-back-link>
}

@if (Model.IsReadOnly)
{
    <gds-div-inset-text>
        Your application is now locked. Make a request to your Growth Manager if you need to make any changes.
    </gds-div-inset-text>
}

@await Html.PartialAsync("~/Partials/Errors/_ErrorSummaryPartial.cshtml")

<vc:page-header title="@Model.Title" caption="@Model.Caption"/>
