@model HE.InvestmentLoans.Contract.Security.SecurityViewModel
@{
    var id = ViewContext.RouteData.Values["id"];
}

<gds-summary-list class="govuk-!-margin-bottom-9">
    @await Html.PartialAsync("_CheckAnswersRow", new ViewDataDictionary(ViewData)
    {
    { "Title", "Charges outstanding or debt secured on company" },
    { "Value", Model.ChargesDebtCompany },
    { "Link", Url.Action("Change","Security", new {id = id,  state = "ChargesDebtCompany" }) }
    })

    @if (Model.ChargesDebtCompany == "Yes")
    {
        @await Html.PartialAsync("_CheckAnswersRow", new ViewDataDictionary(ViewData)
        {
        { "Title", "Debenture" },
        { "Value",  $"{ Model.ChargesDebtCompany }, { Model.ChargesDebtCompanyInfo }" },
        { "Link", Url.Action("Change","Security", new {id = id,  state = "ChargesDebtCompany" }) }
        })
    }

    @await Html.PartialAsync("_CheckAnswersRow", new ViewDataDictionary(ViewData)
    {
    { "Title", "Director loans" },
    { "Value",  Model.DirLoans },
    { "Link", Url.Action("Change","Security", new {id = id,  state = "DirLoans" }) }
    })

    @if (Model.DirLoans=="Yes")
    {
        @await Html.PartialAsync("_CheckAnswersRow", new ViewDataDictionary(ViewData)
        {
        { "Title", "Subordinated loans" },
        { "Value", Model.DirLoansSub == "Yes" ? Model.DirLoansSub : $"{ Model.DirLoansSub }, { Model.DirLoansSubMore }"},
        { "Link", Url.Action("Change","Security", new {id = id,  state = "DirLoansSub" }) }
        })
    }
</gds-summary-list>
