@model HE.InvestmentLoans.Contract.Security.SecurityViewModel
@{
    var id = ViewContext.RouteData.Values["id"];
}

<gds-summary-list class="govuk-!-margin-bottom-9">
    @await Html.PartialAsync("_CheckAnswersRow", new ViewDataDictionary(ViewData)
    {
    { "Title", "Charges outstanding or debt secured on company" },
    { "Value", Model.ChargesDebtCompany },
    { "Link", Url.Action("ChargesDebtCompany", "Security", new {id = id,  redirect = "CheckAnswers"}) },
    { "LinkId", "charges-debt-change"}
    })

    @if (Model.ChargesDebtCompany == "Yes")
    {
        @await Html.PartialAsync("_CheckAnswersRow", new ViewDataDictionary(ViewData)
        {
        { "Title", "Debenture" },
        { "Value",  $"{Model.ChargesDebtCompany}, {Model.ChargesDebtCompanyInfo}" },
        { "Link", Url.Action("ChargesDebtCompany","Security", new {id = id, redirect = "CheckAnswers" }) },
        { "LinkId", "debenture-change"}
        })
    }

    @await Html.PartialAsync("_CheckAnswersRow", new ViewDataDictionary(ViewData)
    {
    { "Title", "Director loans" },
    { "Value",  Model.DirLoans },
    { "Link", Url.Action("DirLoans","Security", new {id = id,  redirect = "CheckAnswers"}) },
    { "LinkId", "dir-loans-change"}
    })

    @if (Model.DirLoans=="Yes")
    {
        @await Html.PartialAsync("_CheckAnswersRow", new ViewDataDictionary(ViewData)
        {
        { "Title", "Subordinated loans" },
        { "Value", Model.DirLoansSub == "Yes" ? Model.DirLoansSub : $"{ Model.DirLoansSub }, { Model.DirLoansSubMore }"},
        { "Link", Url.Action("DirLoansSub","Security", new {id = id,  redirect = "CheckAnswers"}) },
        { "LinkId", "dir-loans-sub-change"}
        })
    }
</gds-summary-list>
