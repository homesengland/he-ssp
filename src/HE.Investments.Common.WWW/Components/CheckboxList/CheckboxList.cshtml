@using HE.Investments.Common.WWW.Components;
@using HE.Investments.Common.WWW.Models;
@using HE.Investments.Common.WWW.Extensions;
@using HE.Investments.Common.WWW.Components.ErrorMessage;
@using HE.Investments.Common.WWW.Components.InputListHeader;
@model (string fieldName, string title,  InputTitleType titleType, DynamicComponentViewModel headerComponent, string hint, IEnumerable<ExtendedSelectListItem> availableOptions)

@{
    var (hasError, checkboxErrors) = ViewData.ModelState.GetErrors(Model.fieldName);
    var groupClass = hasError ? "govuk-form-group--error" : string.Empty;
}

<gds-div-form-group class="@groupClass">
    <gds-field-set>

        <vc:input-list-header
            additional-content="@Model.headerComponent"
            title="@Model.title"
            title-type="@Model.titleType"
            hint="@Model.hint"/>

        <vc:error-message field-name="@Model.fieldName"/>

        <vc:checkbox-list-content
            field-name="@Model.fieldName"
            available-options="@Model.availableOptions"/>

    </gds-field-set>
</gds-div-form-group>
