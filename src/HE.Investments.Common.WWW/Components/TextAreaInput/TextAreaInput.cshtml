@using HE.Investments.Common.WWW.Extensions
@using He.AspNetCore.Mvc.Gds.Components.TagHelpers.Divs
@using HE.Investments.Common.WWW.Components.ErrorMessage
@using HE.Investments.Common.WWW.Components.InputHeader
@model (string FieldName, string Label, string Hint, string Value, string CssClass, int Rows)

@{
    var (hasError, _) = ViewData.ModelState.GetErrors(Model.FieldName);
    var groupClass = hasError ? "govuk-form-group--error" : string.Empty;
    var inputClass = $"govuk-textarea {Model.CssClass}";
    inputClass += hasError ? " govuk-textarea--error" : string.Empty;
}

<gds-div-form-group class="@groupClass">
    <vc:input-header
        field-name="@Model.FieldName"
        title="@Model.Label"
        hint="@Model.Hint"/>

    <vc:error-message field-name="@Model.FieldName"/>

    <textarea class="@inputClass" id="@Model.FieldName" name="@Model.FieldName" rows="@Model.Rows">@Model.Value</textarea>
</gds-div-form-group>
