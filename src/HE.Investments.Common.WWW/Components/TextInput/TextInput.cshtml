@using HE.Investments.Common.WWW.Extensions
@using HE.Investments.Common.WWW.Components.ErrorMessage
@using HE.Investments.Common.WWW.Components.InputHeader

@model (string FieldName, string Value, string Title, HE.Investments.Common.WWW.Components.InputTitleType? TitleType, string Hint, string CssClass, bool IsDisplayed, string Paragraph)
@{
    var (hasError, _) = ViewData.ModelState.GetErrors(Model.FieldName);
    var groupClass = hasError ? "govuk-form-group--error" : string.Empty;
    var inputClass = $"govuk-input {Model.CssClass}";
    inputClass += hasError ? " govuk-input--error" : string.Empty;
}
@if (Model.IsDisplayed)
{
    <gds-div-form-group class="@groupClass">
        <vc:input-header
            field-name="@Model.FieldName"
            title="@Model.Title"
            title-type="@Model.TitleType"
            hint="@Model.Hint"
            paragraph="@Model.Paragraph"/>

        <vc:error-message field-name="@Model.FieldName"/>

        <input class="@inputClass" id="@Model.FieldName" name="@Model.FieldName" type="text" value="@Model.Value">
    </gds-div-form-group>
}
